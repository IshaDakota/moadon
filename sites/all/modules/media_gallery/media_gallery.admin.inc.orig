<?php

/**
 * The Galleries settings page will just return the term edit form for the "all galleries" tid.
 *
 */
function media_gallery_admin_settings() {
  $form['media_gallery_use_multiple_collections'] = array(
    '#type' => 'checkbox',
    '#title' => t('Use multiple gallery collections.'),
    '#default_value' => variable_get('media_gallery_use_multiple_collections', 0),
    '#description' => t('Enables the creation of multiple <em>gallery collections</em> and <em>hirarchical galleries</em>.'),
  );
  if (variable_get('media_gallery_use_multiple_collections', 0)) {
    $vocabulary = taxonomy_vocabulary_load(variable_get('media_gallery_collection_vid'));
    if ($vocabulary) {
      $form['media_gallery_gallery_collection_taxonomy'] = array(
        '#type' => 'link',
        '#title' => t('Configure gallery collections'),
        '#href' => "admin/structure/taxonomy/$vocabulary->machine_name",
      );
    }
  }
  return system_settings_form($form);
}
